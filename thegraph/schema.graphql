type _Schema_
@fulltext(
    name: "privateChatSearch"
    language: en
    algorithm: rank
    include: [{
        entity: "PrivateChat",
        fields: [
            { name: "id" },
        ]
    }]
)

type PrivateChat @entity {
    id: ID!
    last_message: PrivateMessage!
    is_removed: Boolean!,
    updated_at: Int!
    total_messages: Int!
}

type PrivateMessage @entity {
    id: ID!
    id_num: Int!
    chat_id: PrivateChat!,
    from_address: String!
    to_address: String!
    reply_to_message: PrivateMessage
    text: String!
    media: String!
    created_at: Int!
    tx_hash: String!
    is_spam: Boolean!
    is_removed: Boolean!
    is_protected: Boolean!
}

type GroupChat @entity {
    id: ID!
    last_message: GroupMessage!
    is_removed: Boolean!,
    updated_at: Int!
    total_messages: Int!
}

type GroupMessage @entity {
    id: ID!
    id_num: Int!
    from_address: String!
    reply_to_message: GroupMessage
    group_id: String!
    text: String!
    media: String!
    created_at: Int!
    tx_hash: String!
    is_spam: Boolean!
    is_removed: Boolean!
}
